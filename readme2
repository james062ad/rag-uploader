# ðŸ“¤ RAG Uploader: Document Ingestion for Semantic Search

This tool lets users upload `.txt` and `.pdf` documents into a Retrieval-Augmented Generation (RAG) pipeline. Documents are chunked, embedded using OpenAI, and stored in a vector database (Supabase + pgvector). Uploads are logged to Comet for traceability.

---

## ðŸ§  What This App Does

- ðŸ“„ Upload `.txt` or `.pdf` files via Streamlit UI
- ðŸ”ª Automatically chunk documents into sections
- ðŸ§  Embed each chunk using OpenAI (text-embedding-ada-002)
- â˜ï¸ Insert chunks + embeddings into Supabase (pgvector)
- ðŸ“Š Log upload activity to Comet (Opik)
- ðŸ“ˆ Show real-time progress bar

---

## ðŸ› ï¸ Tech Stack

| Layer        | Tech                          |
|--------------|-------------------------------|
| Frontend     | Streamlit                     |
| Backend      | Python + OpenAI SDK           |
| Vector DB    | Supabase + pgvector           |
| Upload Log   | Comet (Opik)                  |
| Deployment   | Streamlit Cloud (optional)    |
| Secrets      | `.env` + `python-dotenv`      |

---

## ðŸ” Environment Setup

Create a `.env` file with the following:

```env
OPENAI_API_KEY=sk-...
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-supabase-anon-key
COMET_API_KEY=your-comet-api-key
COMET_WORKSPACE=your-comet-workspace-name
COMET_PROJECT_NAME=rag-uploader
```

---

## ðŸ“¦ Installation

```bash
git clone https://github.com/james062ad/rag-uploader.git
cd rag-uploader
pip install -r requirements.txt
```

> Also install PyMuPDF:
```bash
pip install PyMuPDF
```

---

## ðŸš€ Run the App

```bash
streamlit run app.py
```

---

## ðŸ“¤ Features

- âœ… Upload `.txt` and `.pdf`
- âœ… Adjustable chunk size (default 500 chars)
- âœ… Real-time Streamlit progress bar
- âœ… Uploads tracked in Comet
- âœ… Scales with your vector DB

---

## ðŸ“Š Comet Logging

Each upload is tracked as a unique Comet experiment:

```
Upload: report.pdf (442 chunks)
```

âœ… Logged:
- File name
- Number of chunks
- First chunk preview

Dashboard: [https://www.comet.com/james1962/rag-project](https://www.comet.com/james1962/rag-project)

---

## ðŸ“‚
